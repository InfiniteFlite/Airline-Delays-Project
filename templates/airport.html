{% extends "layout.html" %}

{% set active_page = "Airport" %}

{% block title %}Airport{% endblock %}

    {% block content %}
    <script>
    window.onload = function () {

    var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	theme: "light2",
	title:{
		text: "Delays for {{ airport_name_chart }}"
	},
	data: [{
		type: "line",
      	indexLabelFontSize: 16,
		dataPoints: [
			{{ chart_data_airport }}
		]
	}]
});
chart.render();

}
</script>
<br>
    <form action="/ShowAirportData">
        <div class="form-group">
        <label for="airport">Select Airport:</label>
        <select class="form-control" name="airport">
            {{ airport_options }}
        </select>
        </div>
        <div class="form-group">
        <label for="month">Select Month:</label>
        <select class="form-control" name="month">
            {{ Month_Options }}
        </select>
        </div>
        <div class="d-flex justify-content-center">
        <input class="btn btn-primary" type="submit" value="Get Data">
        </div>
    </form>

    <br><br>
    <p> {{ airport_delay_year }} </p>

    <br>
    {% if chart_data_airport %}
    <div id="chartContainer" style="height: 370px; width: 100%;"></div>
    {% endif %}
    {% endblock %}
